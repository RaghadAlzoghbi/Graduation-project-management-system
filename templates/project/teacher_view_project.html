{% extends "base.html" %}
{% load static %}

{% block title %}View Project{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/project/teacher_view_project.css' %}">
{% endblock %}

{% block content %}
{% include "navbar.html" %}

<div class="container">
    <h2>📁 Project Details</h2>

    <div class="project-card">
        <h4>{{ project.name }}</h4>
        <p><strong>Field:</strong> {{ project.field.name }}</p>
        <p><strong>Department:</strong> {{ project.department.name }}</p>
        <p><strong>Your Role:</strong> {{ my_role }}</p>

        <hr>

        <h5>👥 Student Members</h5>
        {% if student_members %}
            <ul>
                {% for student in student_members %}
                    <li>{{ student.username }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No students assigned yet.</p>
        {% endif %}

        <h5>🎓 Other Teachers</h5>
        {% if teacher_members %}
            <ul>
                {% for member in teacher_members %}
                    <li>{{ member.name }} — <em>{{ member.role }}</em></li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No other teachers assigned.</p>
        {% endif %}
    </div>

    <div class="pro_buttons">
        <h2>📌 Actions</h2>

        <div class="role-buttons">
            <!-- Project Progress Button -->
            <a href="{% url 'project_progress' project.id %}" class="role-button btn btn-primary">
                📊 View Project Progress
            </a>

            <!-- Assessment Form Button -->
            <a href="{% url 'grade_form' project.id %}" class="role-button btn btn-warning">
                📝 Assessment Form
            </a>

            <!-- View Grades Button (already present) -->
            <a href="{% url 'view_grades' project_id=project.id %}" 
               class="btn btn-secondary {% if not assessment_submitted %}disabled{% endif %}"
               {% if not assessment_submitted %}onclick="event.preventDefault();" {% endif %}>
               🧾 View Assessment Grades
            </a>
        </div>
    </div>
</div>
{% endblock %}
