{% extends "base.html" %}
{% load static i18n %}

{% block title %}{% trans "Project Progress" %}{% endblock %}

{% block head %}
<link rel="stylesheet" href="{% static 'css/project/progress_view.css' %}">
{% endblock %}

{% block content %}
{% include "navbar.html" %}
<!-- Hidden CSRF token for JS -->
<form style="display: none;">
    {% csrf_token %}
  </form>
  
<div class="container">
  <h2>📈 {% trans "Project Progress" %}: {{ project.name }}</h2>

  <div class="filter-search-bar">
    <select id="filter-goal" class="form-control">
      <option value="">{% trans "🎯 All Goals" %}</option>
    </select>
  
    <select id="filter-status" class="form-control">
      <option value="">{% trans "📌 All Statuses" %}</option>
      <option value="to do">{% trans "To Do" %}</option>
      <option value="in progress">{% trans "In Progress" %}</option>
      <option value="done">{% trans "Done" %}</option>
    </select>
  
    <select id="filter-student" class="form-control">
      <option value="">{% trans "🧑‍🎓 All Students" %}</option>
    </select>
  </div>

  <div id="task-list">
    <!-- JS will insert task cards here -->
  </div>
</div>

<!-- Modal -->
<div id="task-modal" class="modal hidden">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <h3>{% trans "Task Details" %}</h3>

    <div id="task-detail-content">
      <!-- JS will fill this in -->
    </div>
  </div>
</div>

<script src="{% static 'js/project/progress_view.js' %}"></script>
{% endblock %}
